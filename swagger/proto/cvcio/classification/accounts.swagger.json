{
  "swagger": "2.0",
  "info": {
    "title": "proto/cvcio/classification/accounts.proto",
    "version": "version not set"
  },
  "tags": [
    {
      "name": "AccountService"
    }
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/v3/classify/account/twitter": {
      "post": {
        "summary": "ClassifyTwitterAccount classifies a single TwitterAccount \nreturns a ResponseAccount message",
        "operationId": "AccountService_ClassifyTwitterAccount",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/classificationResponseAccount"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/classificationTwitterAccount"
            }
          }
        ],
        "tags": [
          "AccountService"
        ]
      }
    },
    "/v3/classify/accounts/twitter": {
      "post": {
        "summary": "ClassifyTwitterAccount classifies a list of TwitterAccount messages (TwitterAccountList)\nreturns a list of ResponseAccount messages (ResponseAccountList)",
        "operationId": "AccountService_ClassifyTwitterAccounts",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/classificationResponseAccountList"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/classificationTwitterAccountList"
            }
          }
        ],
        "tags": [
          "AccountService"
        ]
      }
    }
  },
  "definitions": {
    "classificationResponseAccount": {
      "type": "object",
      "properties": {
        "predictions": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/commonPrediction"
          }
        }
      },
      "title": "ResponseAccount"
    },
    "classificationResponseAccountList": {
      "type": "object",
      "properties": {
        "accounts": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/classificationResponseAccount"
          }
        }
      },
      "title": "ResponseAccountList, a list of ResponseAccount messages {accounts: [...]}"
    },
    "classificationTwitterAccount": {
      "type": "object",
      "properties": {
        "followers": {
          "type": "string",
          "format": "int64"
        },
        "friends": {
          "type": "string",
          "format": "int64"
        },
        "statuses": {
          "type": "string",
          "format": "int64"
        },
        "favorites": {
          "type": "string",
          "format": "int64"
        },
        "lists": {
          "type": "string",
          "format": "int64"
        },
        "ffr": {
          "type": "number",
          "format": "double"
        },
        "stfv": {
          "type": "number",
          "format": "double"
        },
        "stf": {
          "type": "number",
          "format": "double"
        },
        "fvfr": {
          "type": "number",
          "format": "double"
        },
        "fl": {
          "type": "number",
          "format": "double"
        },
        "dates": {
          "type": "number",
          "format": "double"
        },
        "actions": {
          "type": "number",
          "format": "double"
        },
        "meta": {
          "$ref": "#/definitions/commonMeta"
        }
      },
      "description": "Required Fields\n\n- followers (int64) as provided by Twitter API\n- friends (int64) as provided by Twitter API\n- statuses (int64) as provided by Twitter API\n- lists (int64) as provided by Twitter API\n\nOptional Fields\n\nIf optional fields missing we will try to calculate the values if available\nIn case of missing favorites (count) we will use the v2 account classifier\n\n- favorites (int64) as provided by Twitter API\n- ffr (double) calculated as: followers / firends\n- stfv (double) calculated as: statuses / favorites\n- stf (double) calculated as: statuses / favorites\n- fvfr (double) calculated as: favorites / firends\n- fl (double) calculated as: followers / lists\n- dates (double) calculated as: followers / firends\n- actions (double) calculated as: (statuses + favorites) / dates\n\nMeta: Meta message (see proto/cvcio/common/meta)",
      "title": "TwitterAccount message holds information of the requested account"
    },
    "classificationTwitterAccountList": {
      "type": "object",
      "properties": {
        "accounts": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/classificationTwitterAccount"
          }
        }
      },
      "title": "TwitterAccountList, a list of TwitterAccount messages {accounts: [...]}"
    },
    "commonMeta": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "source": {
          "type": "string"
        },
        "screenName": {
          "type": "string"
        },
        "commentCreatedAt": {
          "type": "string",
          "format": "date-time"
        },
        "userCreatedAt": {
          "type": "string",
          "format": "date-time"
        },
        "classifiedAt": {
          "type": "string",
          "format": "date-time"
        },
        "link": {
          "type": "string"
        },
        "lang": {
          "type": "string"
        },
        "threshold": {
          "type": "number",
          "format": "double"
        },
        "version": {
          "type": "string"
        }
      },
      "title": "Meta message holds metadata for any user request (comments or accounts classification)\nUse @ threshold to adjust the probability boundary (default 0.5)\nUse @ version to choose the version of the classifier (accepts v1, v2, default v1)"
    },
    "commonPrediction": {
      "type": "object",
      "properties": {
        "label": {
          "type": "string"
        },
        "score": {
          "type": "number",
          "format": "float"
        },
        "prediction": {
          "type": "integer",
          "format": "int32"
        }
      }
    },
    "protobufAny": {
      "type": "object",
      "properties": {
        "@type": {
          "type": "string"
        }
      },
      "additionalProperties": {}
    },
    "rpcStatus": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    }
  }
}
